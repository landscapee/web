var $jscomp={scope:{},findInternal:function(f,m,k){f instanceof String&&(f=String(f));for(var h=f.length,b=0;b<h;b++){var l=f[b];if(m.call(k,l,b,f))return{i:b,v:l}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,m,k){if(k.get||k.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[m]=k.value)};
$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(f,m,k,h){if(m){k=$jscomp.global;f=f.split(".");for(h=0;h<f.length-1;h++){var b=f[h];b in k||(k[b]={});k=k[b]}f=f[f.length-1];h=k[f];m=m(h);m!=h&&null!=m&&$jscomp.defineProperty(k,f,{configurable:!0,writable:!0,value:m})}};
$jscomp.polyfill("Array.prototype.find",function(f){return f?f:function(f,k){return $jscomp.findInternal(this,f,k).v}},"es6-impl","es3");
(function(f,m){"function"!==typeof define||!define.amd||"undefined"!=typeof nonUseAmd&&nonUseAmd?m():"undefined"!=typeof HTMLDev&&HTMLDev?define(["./signature"],m):define(["./signature.min"],m)})(window,function(f){var m,k;f=window;var h=window.kinggrid,b=window.Signature,l=window.jQuery;"use strict";var v=!1;f.JSON&&(v='{"x":"\u4e2d"}'!==f.JSON.stringify({x:"\u4e2d"}));var n=h.Utils,p=b.options;n.extend(b.options.template,{signInfoBtl:'<div class="kg-dialog kg-dialog-info kg-dialog-signedinfo" id="kg-signedinfo"><%var modified = this.signModified;%><%var timeVerify = this.timeVerify;%><div class="kg-title success <%modified?"kg-hide":""%>"><i class="kg-icon"></i><span>\u68c0\u6d4b\u7ed3\u679c\uff1a\u7b7e\u540d\u6570\u636e\u9a8c\u8bc1\u6b63\u5e38\uff01</span><%if(timeVerify!=null){%><span class="timestamp <%timeVerify==true?"green":"red"%>"><%timeVerify==true?"(\u65f6\u95f4\u6233\u53ef\u4fe1\u4efb)":"(\u65f6\u95f4\u6233\u4e0d\u53ef\u4fe1\u4efb)"%></span><%}%></div><div class="kg-title danger  <%modified?"":"kg-hide"%> "><i class="kg-icon"></i><span>\u68c0\u6d4b\u7ed3\u679c\uff1a\u7b7e\u540d\u6570\u636e\u88ab\u7be1\u6539\uff01</span><%if(timeVerify!=null){%><span class="timestamp <%timeVerify==true?"green":"red"%>"><%timeVerify==true?"(\u65f6\u95f4\u6233\u53ef\u4fe1\u4efb)":"(\u65f6\u95f4\u6233\u4e0d\u53ef\u4fe1\u4efb)"%></span><%}%></div><div class="kg-content"><div class="kg-tab"><ul class="kg-nav clearfix"><li class="active"><a href="#" kg-target="certinfo">\u8bc1\u4e66\u4fe1\u606f</a></li></ul><%var certinfo = this.signatureData.signMeta.certinfo; %><div class="kg-tab-content"><div class="kg-tab-pane active certinfo"><div class="kg-meta"><div class="clearfix kg-item "><label class="kg-label">\u7248\u672c\uff1a</label><span class="kg-value">V<%certinfo.version%></span></div><div class="clearfix kg-item "><label class="kg-label">\u5e8f\u53f7\uff1a</label><span class="kg-value"><%certinfo.serialNumber%></span></div><div class="clearfix kg-item "><label class="kg-label">\u7b7e\u540d\u7b97\u6cd5\uff1a</label><span class="kg-value"><%certinfo.algName%></span></div><div class="clearfix kg-item "><label class="kg-label">\u9881\u53d1\u8005\uff1a</label><span class="kg-value"><%certinfo.issuerDN%></span></div><div class="clearfix kg-item "><label class="kg-label">\u4f7f\u7528\u8005\uff1a</label><span class="kg-value"><%certinfo.subjectDN%></span></div><div class="clearfix kg-item "><label class="kg-label">\u6709\u6548\u671f\u4ece\uff1a</label><span class="kg-value"><%kinggrid.Utils.formatDate(new Date(certinfo.notBefore) , "yyyy-MM-dd hh:mm:ss")%></span></div><div class="clearfix kg-item "><label class="kg-label">\u81f3\uff1a</label><span class="kg-value"><%kinggrid.Utils.formatDate(new Date(certinfo.notAfter) , "yyyy-MM-dd hh:mm:ss")%></span></div></div></div></div></div></div></div>',
signatureInfoBtl:'<div class="kg-dialog kg-dialog-info" id="kg-sigantureinfo"><%var modified = this.modified;%><%var timeVerify = this.timeVerify;%><%var sealType = Signature.options.sealType;%><div class="kg-title success <%modified?"kg-hide":""%>"><i class="kg-icon"></i><span>\u68c0\u6d4b\u7ed3\u679c\uff1a\u4fdd\u62a4\u6570\u636e\u6b63\u5e38\uff01</span><%if(timeVerify!=null){%><span class="timestamp <%timeVerify==true?"green":"red"%>"><%timeVerify==true?"(\u65f6\u95f4\u6233\u53ef\u4fe1\u4efb)":"(\u65f6\u95f4\u6233\u4e0d\u53ef\u4fe1\u4efb)"%></span><%}%></div><div class="kg-title danger  <%modified?"":"kg-hide"%> "><i class="kg-icon"></i><span>\u68c0\u6d4b\u7ed3\u679c\uff1a\u4fdd\u62a4\u6570\u636e\u88ab\u7be1\u6539\uff01</span><%if(timeVerify!=null){%><span class="timestamp <%timeVerify==true?"green":"red"%>"><%timeVerify==true?"(\u65f6\u95f4\u6233\u53ef\u4fe1\u4efb)":"(\u65f6\u95f4\u6233\u4e0d\u53ef\u4fe1\u4efb)"%></span><%}%></div><div class="kg-content"><div class="kg-tab"><ul class="kg-nav clearfix"><li class=" <% modified?"":"active"%> "><a href="#" kg-target="signatureinfo">\u7b7e\u7ae0\u4fe1\u606f</a></li><%if(modified){%><li class=" <% modified?"active":""%> " ><a href="#" kg-target="modifieditems">\u7be1\u6539\u4fe1\u606f</a></li><%}%></ul><div class="kg-tab-content"><div class="kg-tab-pane <% modified?"":"active"%> signatureinfo"><% var SDATA = this.signatureData; %><% var modifiedItems = this.modifiedItems; %><div class="kg-meta"><div class="clearfix kg-item "><label class="kg-label">\u5e94\u7528\u7a0b\u5e8f\uff1a</label><span class="kg-value"><%timeVerify%><%SDATA.appname%></span></div><div class="clearfix kg-item "><label class="kg-label">\u6388\u6743\u5355\u4f4d\uff1a</label><span class="kg-value"><%SDATA.orgname%></span></div><div class="clearfix kg-item "><label class="kg-label">\u7528\u6237\u540d\u79f0\uff1a</label><span class="kg-value"><%SDATA.username%></span></div><div class="clearfix kg-item "><label class="kg-label">\u5bc6\u94a5\u5e8f\u5217\uff1a</label><span class="kg-value"><%SDATA.keysn%></span></div><div class="clearfix kg-item "><label class="kg-label">\u7b7e\u7ae0\u540d\u79f0\uff1a</label><span class="kg-value"><%SDATA.seal.signname%></span></div><div class="clearfix kg-item "><label class="kg-label">\u7b7e\u7ae0\u5e8f\u5217\uff1a</label><span class="kg-value"><%SDATA.seal.signsn%></span></div><div class="clearfix kg-item "><label class="kg-label">\u7b7e\u7ae0\u65e5\u671f\uff1a</label><span class="kg-value"><%SDATA.timestamp.signtime%></span></div><%if(sealType == "client" && SDATA.seal.headinfoex){%><div class="clearfix kg-item "><label class="kg-label">\u5236\u7ae0\u4eba\u540d\uff1a</label><span class="kg-value"><%SDATA.seal.headinfoex.sealProducer%></span></div><div class="clearfix kg-item "><label class="kg-label">\u5236\u7ae0\u65e5\u671f\uff1a</label><span class="kg-value"><%SDATA.seal.headinfoex.sealMakingTime%></span></div><%}%></div></div><%if(modified){%><%var modifiedItems = this.modifiedItems;%><% for(var i=0;i<modifiedItems.length;i++) {%><% var item = modifiedItems[i]; %><div class="kg-tab-pane modifieditems <% modified?"active":""%> "><div class="kg-meta"><div class="clearfix kg-item "><label class="kg-label" kg-field="<%item.field%>"><%item.desc%>\u7531\uff1a</label><span class="kg-value"><%this["_renderValue"](item.orivalue) %></span></div><div class="clearfix kg-item "><label class="kg-label">\u66f4\u6539\u4e3a\uff1a</label><span class="kg-value"><%this["_renderValue"](item.newvalue)%></span></div></div></div><%}%><%}%></div></div></div></div>',
handwritedlg:'<div class="kg-dialog kg-dialog-info" id="kg-handwrite" unselectable="on" onselectstart="return false;" style="-moz-user-select:none;">\u540d\u79f0:<input type="text" value="\u624b\u5199\u7b7e\u540d" id="nameid" />&nbsp;&nbsp;&nbsp;\u989c\u8272:<select id="hw_color"><option value="black">\u9ed1</option><option value="red">\u7ea2</option><option value="blue">\u84dd</option><option value="green">\u7eff</option></select>&nbsp;&nbsp;&nbsp;\u7b14\u5bbd:<select id="hw_width"><option value="1">1</option><option value="2" selected>2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option></select><canvas id="canvasId" width=670px height=500px></canvas><br /><div id="div-judge" style="display: block" align="center"><button type="button" id="clearid" class="kg-button">\u6e05\u9664</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" id="okid" class="kg-button">\u7b7e\u540d</button></div></div>',
barcodedlg:'<div class="kg-dialog kg-dialog-info" id="kg-barcode"><label class="kg-label">\u4e8c\u7ef4\u7801\u5185\u5bb9\uff1a</label><textarea id="bcId"></textarea><br /><div id="output"><br /></div><div id="div-judge" style="display: block"><button type="button" id="bc_clearid" class="kg-button">\u6e05\u9664</button><button type="button" id="bc_okid" class="kg-button">\u786e\u5b9a</button></div></div>',scanBCdlg:'<div class="kg-dialog kg-dialog-info" id="kg-barcode"><div id="support"></div> <div id="contentHolder"><video id="video" width="320" height="320" autoplay></video><canvas style="display:none; background-color:#F00;" id="canvas_scanBC" width="320" height="320"></canvas> <br/> </div></div>'});
kingPlus();var r,q;b.addLiseter("init",function(){r=b.aisleKing;for(var a=b.options.icons,e=0;e<a.length;++e){var c=a[e];switch(c.iconClass){case "kg-icon-move":null!=b.options.icon_move&&0==b.options.icon_move&&(c.enable=!1);break;case "kg-icon-remove":null!=b.options.icon_remove&&0==b.options.icon_remove&&(c.enable=!1);break;case "kg-icon-sign":null!=b.options.icon_sign&&0==b.options.icon_sign&&(c.enable=!1);break;case "kg-icon-signverify":null!=b.options.icon_signverify&&0==b.options.icon_signverify&&
(c.enable=!1);break;case "kg-icon-sealinfo":null!=b.options.icon_sealinfo&&0==b.options.icon_sealinfo&&(c.enable=!1)}}});b.addLiseter("beforeVerify",function(){q=[];m=[];k=[]});b.addLiseter("eachVerify",function(a){a.broken&&(q.push(a),m.push(a.signatureData.seal.signsn),k.push(a.signatureData.seal.imgdata))});b.addLiseter("startMove",function(a,e,c){"client"==b.options.sealType&&b.options.moveable_self&&h.surry(b.options.clientUrl,"IWEBASSIST.iWebAssistCtrl.1","4240FB41-A213-42B6-8CB5E6705C99B319").invoke("KGGetKeyOtherInfo",
"0").ret(function(d){d.result?(d=d.Res.substring(1,d.Res.length-1),a.keysn=d,a.keysn!=a.signatureData.keysn&&b.alert(h.msg("cannot_move","KG_MSG"))):b.alert(h.msg(d.errcode,"then"))})});b.addLiseter("verify",function(){0<q.length&&r.request(p.imageUrl,{signsn:m,sealImg:k}).ret(function(a){if(a.result){a=a.imageUrl||p.imageUrl+"_";for(var e=0;e<q.length;e++){var c=q[e],d=c.imgEles,w;for(w in d)d[w].find(".kg-img").attr({src:b.aisleKing.serverUrl+a+"?a0=0&signsn="+c.signatureData.seal.signsn});delete c.broken}}else b.alert(h.msg(a.errcode,
"then"))})});var t={},u;l(window).resize(function(){u&&clearTimeout(u);u=setTimeout(function(){for(var a in t){var e=l(t[a]),c=l(n.$(e.attr("elemid")));b.prototype.calSealPos.call(null,c,e)}},200)});n.extend(b.prototype,{_init:function(){var a=this;a.on("showAt",function(a){n.$(a.getAttribute("elemid")).getAttribute("display")||(t[a.id]=a)});a.on("removeAt",function(a){delete t[a.id]});a.on("beforeShowAt",function(a){3960<this.signatureData.seal.imgdata.length&&v&&(this.brokenImgDiv=a)});a.on("showAt",
function(){if(a.brokenImgDiv){var e=a.signatureData.seal;r&&r.request(a.imageUrl,{signsn:e.signsn,sealImg:e.imgdata}).ret(function(c){c.result&&(c=c.imageUrl||a.imageUrl+"_",l(a.brokenImgDiv).find(".kg-img").attr({src:b.aisleKing.serverUrl+c+"?a0=0&signsn="+e.signsn}),delete a.brokenImgDiv)})}});a.on("showAt",function(e){e=l(e);if(0<=l().jquery.indexOf("1.4"))e.live("click",function(){var c=a._verify(null,{sucCall:function(){a.signatureInfo()}});void 0!==b.options.verifySignatureInfo&&b.options.verifySignatureInfo&&
b.options.verifySignatureInfo(a.modified,a.modifiedItems,a.signatureData)||null!=c&&a.signatureInfo()});else e.on("click",function(){var c=a._verify(null,{sucCall:function(){a.signatureInfo()}});void 0!==b.options.verifySignatureInfo&&b.options.verifySignatureInfo&&b.options.verifySignatureInfo(a.modified,a.modifiedItems,a.signatureData)||null!=c&&a.signatureInfo()});e.append('<div class="kgImgIcons kg-img-icons" ></div>')});a.on("handleImg",function(b){var c=l(b);c.find(".kg-img-icon").remove();
if(p.icons)for(var c=c.children(".kg-img-icons"),d=p.icons.length-1;0<=d;d--){var e=p.icons[d];if(n.val(e.enable,a,b)){var g=l('<a href="#" title="'+e.title+'" class="kg-img-icon" id="kg-img-icon-'+e.id+"-"+this.signatureid+'"><i class="'+e.iconClass+'"></i></a>');c.append(g);e.exec&&e.exec.call(a,b);(function(b,d,c){g.click(function(d){d.imgDiv=b;c.call(a,d,b)})})(b,g,e.click||function(a){a.preventDefault();a.stopPropagation()})}}})},signatureInfo:function(){return this.showDialog("signatureInfoBtl",
{target:this,onCancel:!1,onShow:function(){var a=this.find(".kg-tab");this.tab=n.tab(a)}})},signInfo:function(){var a={title:h.msg("SignVerify","KG_TITLE"),target:this,onCancel:!1};return this.showDialog("signInfoBtl",a)},handWriteDlg:function(a,b){var c={title:h.msg("HWSignature","KG_TITLE"),target:this,onCancel:!1},d=this.showDialog("handwritedlg",c),e=d.find("#canvasId")[0];a.penColor=d.find("#hw_color").val();a.minWidth=.5;a.maxWidth=4.5;var g=new SignaturePad(e,a);e.onmouseleave=function(a){g.simulate_mouseevent(e,
"mouseup");g.simulate_mouseevent(d.find("#kg-handwrite")[0],"mouseup")};d.find("#hw_color").click(function(){var a=d.find("#hw_color").val();g.penColor=a});d.find("#hw_width").click(function(){switch(d.find("#hw_width").val()){case "1":g.minWidth=.5;g.maxWidth=2.5;break;case "2":g.minWidth=.5;g.maxWidth=4.5;break;case "3":g.minWidth=1;g.maxWidth=6;break;case "4":g.minWidth=1;g.maxWidth=8;break;case "5":g.minWidth=2.5;g.maxWidth=10;break;case "6":g.minWidth=3;g.maxWidth=12;break;default:g.minWidth=
.5,g.maxWidth=2.5}});var c=d.find("#clearid"),f=d.find("#okid");c.click(function(){g.clear()});f.click(function(){d.close();var c=g.toDataURL().replace(/^data:image\/\w+;base64,/,"");c&&(c={height:a.image_height||"5.00",width:a.image_width||"6.70",imageData:c,name:d.find("#nameid").val()},b(c),d.remove())})},fingerPrintsDevice:function(a,e){var c=this;h.surry(b.options.clientUrl,"IWEBASSIST.iWebAssistCtrl.1","4240FB41-A213-42B6-8CB5E6705C99B319").invoke("KGRunFingerPrints",a.device_type||"0",a.image_type||
"gif","JSComServer","","").ret(function(b){if(b.result){var d=b.FingerPrintsMap,g=parseFloat(254*b.ImageWidth/9600).toFixed(2);b=parseFloat(254*b.ImageHeight/9600).toFixed(2);e({width:a.image_height||g,height:a.image_width||b,imageData:d,name:"\u6307\u7eb9\u7b7e\u540d"})}else c.errorCallback(b,a.errorCall,"KGRunFingerPrints")})},handWriteDevice:function(a,e){var c=this;void 0!=a.copy_right&&null!=a.copy_right&&h.surry(b.options.clientUrl,"IWEBASSIST.iWebAssistCtrl.1","4240FB41-A213-42B6-8CB5E6705C99B319").invoke("KGRunHandWritten",
a.device_type||"0",a.copy_right,"JSComServer","","").ret(function(b){if(b.result){var d=b.HandWrittenValue,g=parseFloat(254*b.ImageWidth/9600).toFixed(2);b=parseFloat(254*b.ImageHeight/9600).toFixed(2);e({width:a.image_height||g,height:a.image_width||b,imageData:d,name:"\u624b\u5199\u7b7e\u540d"})}else c.errorCallback(b,a.errorCall,"KGRunHandWritten")})},barCodeDlg:function(a,b){if(void 0!=a.content&&null!=a.content){var c=l("#output").qrcode(a.content);b({height:a.image_height||"5",width:a.image_width||
"5",imageData:c,name:"\u4e8c\u7ef4\u7801"})}},scanBCDlg:function(a,b){var c={title:h.msg("scanBCSignature","KG_TITLE"),target:this,onCancel:!1},d=this.showDialog("scanBCdlg",c);try{var e=document.getElementById("canvas_scanBC").getContext("2d"),g=document.getElementById("video"),c={video:!0,audio:!1},f=!0,k=function(a){f=!1;a.PERMISSION_DENIED?alert("\u7528\u6237\u62d2\u7edd\u4e86\u6d4f\u89c8\u5668\u8bf7\u6c42\u5a92\u4f53\u7684\u6743\u9650","\u63d0\u793a"):a.NOT_SUPPORTED_ERROR?alert("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u62cd\u7167\u529f\u80fd\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u6d4f\u89c8\u5668",
"\u63d0\u793a"):a.MANDATORY_UNSATISFIED_ERROR?alert("\u6307\u5b9a\u7684\u5a92\u4f53\u7c7b\u578b\u672a\u63a5\u6536\u5230\u5a92\u4f53\u6d41","\u63d0\u793a"):alert("\u7cfb\u7edf\u672a\u80fd\u83b7\u53d6\u5230\u6444\u50cf\u5934\uff0c\u8bf7\u786e\u4fdd\u6444\u50cf\u5934\u5df2\u6b63\u786e\u5b89\u88c5\u3002\u6216\u5c1d\u8bd5\u5237\u65b0\u9875\u9762\uff0c\u91cd\u8bd5","\u63d0\u793a")};if(navigator.getUserMedia){if(-1<navigator.userAgent.indexOf("MQQBrowser"))return alert("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u62cd\u7167\u529f\u80fd\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u6d4f\u89c8\u5668",
"\u63d0\u793a"),!1;navigator.getUserMedia(c,function(a){g.src=a;g.play()},k)}else if(navigator.webkitGetUserMedia)navigator.webkitGetUserMedia(c,function(a){g.src=window.webkitURL.createObjectURL(a);g.play()},k);else if(navigator.mozGetUserMedia)navigator.mozGetUserMedia(c,function(a){g.src=window.URL.createObjectURL(a);g.play()},k);else if(navigator.msGetUserMedia)navigator.msGetUserMedia(c,function(a){l(document).scrollTop(l(window).height());g.src=window.URL.createObjectURL(a);g.play()},k);else return alert("\u5bf9\u4e0d\u8d77\uff0c\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u62cd\u7167\u529f\u80fd\uff0c\u8bf7\u4f7f\u7528\u5176\u4ed6\u6d4f\u89c8\u5668"),
!1;f&&alert("\u4e3a\u4e86\u83b7\u5f97\u66f4\u51c6\u786e\u7684\u6d4b\u8bd5\u7ed3\u679c\uff0c\u8bf7\u5c3d\u91cf\u5c06\u4e8c\u7ef4\u7801\u7f6e\u4e8e\u6846\u4e2d\uff0c\u7136\u540e\u8fdb\u884c\u62cd\u6444\u3001\u626b\u63cf\u3002 \u8bf7\u786e\u4fdd\u6d4f\u89c8\u5668\u6709\u6743\u9650\u4f7f\u7528\u6444\u50cf\u529f\u80fd");var m=setTimeout(function(){e&&(e.drawImage(g,0,0,320,320),l("#contentHolder").html5_qrcode(function(c){l("#read").html(c);d.close();alert(c);a.content=c;barCodeDlg(a,b);window.clearInterval(m)},
function(a){l("#read_error").html(a);d.close();window.clearInterval(m)},function(a){l("#vid_error").html(a);d.close();window.clearInterval(m)}))},200)}catch(x){printHtml("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301HTML5 CANVAS")}}});b.addIcon({iconClass:"kg-icon-move",title:h.msg("moveSignature","KG_TITLE"),id:"moveSignature",enable:function(a){return this.canMove(a)},exec:function(a){var e=this;(function(a,d){0<=l().jquery.indexOf("1.4")?(l(d).live("touchstart mousedown",".kg-icon-move",function(b){a&&
e.runMove(b,d)}),l(d).live("touchstart mouseover",".kg-icon-move",function(c){void 0!==b.options.extra&&(c=d.attributes.signatureid.nodeValue)&&void 0!==b.options.extra[c]&&(a=b.options.extra[c].icon_move())})):(l(d).on("touchstart mousedown",".kg-icon-move",function(b){a&&e.runMove(b,d)}),l(d).on("touchstart mouseover",".kg-icon-move",function(c){void 0!==b.options.extra&&(c=d.attributes.signatureid.nodeValue)&&void 0!==b.options.extra[c]&&b.options.extra[c].icon_move&&b.options.extra[c].icon_move()instanceof
Function&&(a=b.options.extra[c].icon_move())}))})(!0,a)}});b.addIcon({iconClass:"kg-icon-remove",title:h.msg("RevokeSignature","KG_TITLE"),id:"revokeSignature",enable:function(){return this.canDelete()},click:function(a){a.preventDefault();a.stopPropagation();this.revokeSignature()}});b.addIcon({iconClass:"kg-icon-sign",title:h.msg("SignSignature","KG_TITLE"),id:"sign",enable:function(){return this.canSign()},click:function(a){a.preventDefault();a.stopPropagation();a=this._verify(null,{sucCall:function(){this.signSignature()}});
null!=a&&(a?this.signSignature():b.alert(h.msg("invalid_signdata","KG_MSG")))}});b.addIcon({iconClass:"kg-icon-signverify",title:h.msg("SignVerify","KG_TITLE"),id:"verifysign",enable:function(){return this.signatureData.signMeta},click:function(a){a.preventDefault();a.stopPropagation();var b=this;b.verifySignData(function(a){a.errcode?b.error(a):b.signInfo()})}});b.addIcon({iconClass:"kg-icon-sealinfo",title:h.msg("SignatureVerify","KG_TITLE"),id:"signatureInfo",enable:!0,click:function(a){a.preventDefault();
a.stopPropagation();a=this._verify(null,{sucCall:function(){this.signatureInfo()}});void 0!==b.options.verifySignatureInfo&&b.options.verifySignatureInfo&&b.options.verifySignatureInfo(this.modified,this.modifiedItems,this.signatureData)||null!=a&&this.signatureInfo()}});return b});
// V1.0.0.348    
//# sourceMappingURL=c:/signature.pc.min.map
